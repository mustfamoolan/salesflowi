import{r as c,j as e}from"./app-CuBlbhlW.js";import ne from"./BackButton-C7rP9mAK.js";/* empty css            */const ce=()=>{c.useEffect(()=>{setTimeout(()=>{const s=document.getElementById("loading-screen");s&&(s.style.display="none")},1e3)},[]);const[m,le]=c.useState(!0),[Q,w]=c.useState(!1),[W,g]=c.useState(!1),[z,C]=c.useState(!1),[E,A]=c.useState(!1),[O,L]=c.useState(!1),[n,P]=c.useState(null),[S,R]=c.useState(""),[D,U]=c.useState("all"),[x,T]=c.useState([{id:1,name:"أحمد محمد العلي",phone:"07801234567",address:"البصرة - شارع الكورنيش",balance:15e4,type:"creditor",notes:"عميل مميز منذ 2023",lastTransaction:"2025-08-05",totalInvoices:25,totalDebt:5e4,paidAmount:2e5},{id:2,name:"فاطمة حسن الكريم",phone:"07709876543",address:"البصرة - حي الحسين",balance:-75e3,type:"debtor",notes:"دفع منتظم كل شهر",lastTransaction:"2025-08-03",totalInvoices:12,totalDebt:75e3,paidAmount:1e5},{id:3,name:"محمد علي الربيعي",phone:"07701112233",address:"البصرة - شارع بغداد",balance:0,type:"neutral",notes:"",lastTransaction:"2025-08-01",totalInvoices:8,totalDebt:0,paidAmount:5e4}]),[h,B]=c.useState({name:"",phone:"",address:"",notes:"",balance:0}),[b,$]=c.useState({name:"",phone:"",address:"",notes:"",balance:0}),[a,y]=c.useState({type:"debt",amount:0,description:"",dueDate:"",totalAmount:0,installmentCount:1,installmentFrequency:"monthly",installmentAmount:0,selectedProductId:"",productName:"",productPrice:0,productQuantity:1,saleType:"cash",downPayment:0,calculationMethod:"by_amount",duration:1,totalInstallments:1,startDate:""}),[F,V]=c.useState([{id:1,customerId:1,type:"sale",amount:15e4,description:"بيع جهاز كمبيوتر محمول",date:"2025-08-05",status:"completed"},{id:2,customerId:1,type:"payment",amount:5e4,description:"دفعة من الدين",date:"2025-08-03",status:"completed"},{id:3,customerId:2,type:"installment",amount:25e3,description:"قسط شهري",date:"2025-08-01",status:"pending"}]),[j]=c.useState([{id:1,name:"جهاز كمبيوتر محمول Dell",price:85e4,category:"أجهزة كمبيوتر",inStock:5},{id:2,name:"طابعة ليزر HP",price:3e5,category:"طابعات",inStock:8},{id:3,name:"ماوس لاسلكي Logitech",price:45e3,category:"إكسسوارات",inStock:25},{id:4,name:"لوحة مفاتيح ميكانيكية",price:12e4,category:"إكسسوارات",inStock:15},{id:5,name:"شاشة LCD 24 بوصة",price:45e4,category:"شاشات",inStock:12}]),H={ar:{title:"إدارة العملاء",subtitle:"قائمة العملاء وإدارة بياناتهم",search:"البحث عن عميل...",addCustomer:"إضافة عميل جديد",totalCustomers:"إجمالي العملاء",creditors:"الدائنين",debtors:"المدينين",neutral:"متوازن",filters:{all:"الكل",creditor:"دائن",debtor:"مدين"},customerInfo:{name:"الاسم",phone:"الهاتف",address:"العنوان",balance:"الرصيد",notes:"الملاحظات",lastTransaction:"آخر معاملة",totalInvoices:"إجمالي الفواتير",paidAmount:"المبلغ المدفوع"},actions:{edit:"تعديل",delete:"حذف",addTransaction:"إضافة معاملة",viewHistory:"عرض السجل"},transaction:{title:"إضافة معاملة جديدة",type:"نوع المعاملة",debt:"دين",installment:"قسط",sale:"بيع منتج",amount:"المبلغ",totalAmount:"إجمالي المبلغ",description:"الوصف",dueDate:"تاريخ الاستحقاق",installmentFrequency:"تكرار القسط",installmentAmount:"مبلغ القسط",selectProduct:"اختر المنتج",productQuantity:"الكمية",saleType:"نوع البيع",availableQuantity:"الكمية المتاحة",downPayment:"المبلغ المقدم",calculationMethod:"طريقة الحساب",byAmount:"تحديد مبلغ القسط",byDuration:"تحديد المدة",duration:"المدة",totalInstallments:"عدد الأقساط",startDate:"تاريخ البداية",months:"شهر",weeks:"أسبوع",remainingAmount:"المبلغ المتبقي للتقسيط",frequencies:{monthly:"شهري",weekly:"أسبوعي",biweekly:"كل أسبوعين"},saleTypes:{cash:"نقداً",installment:"بالأقساط"}},history:{title:"سجل المعاملات",date:"التاريخ",type:"النوع",amount:"المبلغ",description:"الوصف",status:"الحالة",types:{sale:"بيع",payment:"دفعة",installment:"قسط",debt:"دين"},statuses:{completed:"مكتمل",pending:"معلق",overdue:"متأخر"}},form:{title:"بيانات العميل",namePlaceholder:"اسم العميل",phonePlaceholder:"رقم الهاتف",addressPlaceholder:"العنوان",notesPlaceholder:"ملاحظات إضافية",save:"حفظ",cancel:"إلغاء"},currency:"د.ع",noCustomers:"لا يوجد عملاء",addFirstCustomer:"أضف أول عميل لك"},en:{title:"Customer Management",subtitle:"Customer list and data management",search:"Search for customer...",addCustomer:"Add New Customer",totalCustomers:"Total Customers",creditors:"Creditors",debtors:"Debtors",neutral:"Balanced",filters:{all:"All",creditor:"Creditor",debtor:"Debtor"},customerInfo:{name:"Name",phone:"Phone",address:"Address",balance:"Balance",notes:"Notes",lastTransaction:"Last Transaction",totalInvoices:"Total Invoices",paidAmount:"Paid Amount"},actions:{edit:"Edit",delete:"Delete",addTransaction:"Add Transaction",viewHistory:"View History"},transaction:{title:"Add New Transaction",type:"Transaction Type",debt:"Debt",installment:"Installment",sale:"Product Sale",amount:"Amount",totalAmount:"Total Amount",description:"Description",dueDate:"Due Date",installmentFrequency:"Installment Frequency",installmentAmount:"Installment Amount",selectProduct:"Select Product",productQuantity:"Quantity",saleType:"Sale Type",availableQuantity:"Available Quantity",downPayment:"Down Payment",calculationMethod:"Calculation Method",byAmount:"Set Installment Amount",byDuration:"Set Duration",duration:"Duration",totalInstallments:"Number of Installments",startDate:"Start Date",months:"months",weeks:"weeks",remainingAmount:"Remaining Amount for Installment",frequencies:{monthly:"Monthly",weekly:"Weekly",biweekly:"Biweekly"},saleTypes:{cash:"Cash",installment:"Installment"}},history:{title:"Transaction History",date:"Date",type:"Type",amount:"Amount",description:"Description",status:"Status",types:{sale:"Sale",payment:"Payment",installment:"Installment",debt:"Debt"},statuses:{completed:"Completed",pending:"Pending",overdue:"Overdue"}},form:{title:"Customer Data",namePlaceholder:"Customer Name",phonePlaceholder:"Phone Number",addressPlaceholder:"Address",notesPlaceholder:"Additional Notes",save:"Save",cancel:"Cancel"},currency:"IQD",noCustomers:"No customers",addFirstCustomer:"Add your first customer"}},t=m?H.ar:H.en,N=s=>new Intl.NumberFormat(m?"ar-IQ":"en-US").format(Math.abs(s)),q=s=>s>0?"text-green-600":s<0?"text-red-600":"text-gray-600",G=s=>s>0?"↑":s<0?"↓":"→",_=x.filter(s=>{const l=s.name.toLowerCase().includes(S.toLowerCase())||s.phone.includes(S);return D==="all"?l:D==="creditor"?l&&s.balance>0:D==="debtor"?l&&s.balance<0:l}),k=s=>{const{name:l,value:i}=s.target;B(r=>({...r,[l]:i}))},J=s=>{s.preventDefault();const l={...h,id:x.length+1,type:h.balance>0?"creditor":h.balance<0?"debtor":"neutral",lastTransaction:new Date().toISOString().split("T")[0],totalInvoices:0,totalDebt:h.balance<0?Math.abs(h.balance):0,paidAmount:0};T([...x,l]),B({name:"",phone:"",address:"",notes:"",balance:0}),w(!1)},K=s=>{P(s),g(!0)},X=()=>{$({name:n.name,phone:n.phone,address:n.address,notes:n.notes,balance:n.balance}),C(!0),g(!1)},Y=()=>{window.confirm(m?"هل أنت متأكد من حذف هذا العميل؟":"Are you sure you want to delete this customer?")&&(T(x.filter(s=>s.id!==n.id)),g(!1),P(null))},Z=()=>{y({type:"debt",amount:0,totalAmount:0,description:"",dueDate:"",installmentCount:2,installmentFrequency:"monthly",installmentAmount:0,selectedProductId:"",productName:"",productPrice:0,quantity:1,saleType:"cash",downPayment:0,calculationMethod:"by_amount",duration:1,totalInstallments:1,startDate:""}),A(!0),g(!1)},ee=()=>{L(!0),g(!1)},v=s=>{const{name:l,value:i}=s.target;y(r=>({...r,[l]:i}))},I=s=>{const{name:l,value:i}=s.target;$(r=>({...r,[l]:i}))},te=s=>{s.preventDefault();const l=x.map(i=>i.id===n.id?{...i,...b,type:b.balance>0?"creditor":b.balance<0?"debtor":"neutral"}:i);T(l),P({...n,...b}),C(!1),g(!0),alert(m?"تم تحديث بيانات العميل بنجاح!":"Customer data updated successfully!")},u=(s,l)=>{y(i=>{const r={...i,[s]:l},d=r.totalAmount||r.amount||0,M=r.downPayment||0,o=d-M;if(r.calculationMethod==="by_amount"){const f=parseFloat(r.installmentAmount)||0;if(f>0){const p=Math.ceil(o/f);r.totalInstallments=p,r.duration=r.installmentFrequency==="monthly"?p:r.installmentFrequency==="weekly"?Math.ceil(p/4):Math.ceil(p/2)}}else{const f=parseInt(r.duration)||1;let p;r.installmentFrequency==="monthly"?p=f:r.installmentFrequency==="weekly"?p=f*4:p=f*2;const ae=o/p;r.totalInstallments=p,r.installmentAmount=ae.toFixed(2)}return r})},se=s=>{s.preventDefault();let l=0,i="";if(a.type==="debt")l=parseFloat(a.amount),i=a.description;else if(a.type==="sale"){const o=j.find(f=>f.id===parseInt(a.selectedProductId));l=parseFloat(a.totalAmount||0),i=`بيع ${o?.name||"منتج"} - كمية: ${a.quantity||1}`,a.saleType==="installment"&&(i+=` - أقساط (${a.installmentCount} قسط ${a.installmentFrequency==="monthly"?"شهري":a.installmentFrequency==="weekly"?"أسبوعي":"كل أسبوعين"})`)}else a.type==="installment"&&(l=parseFloat(a.amount),i=`قسط ${a.installmentFrequency==="monthly"?"شهري":a.installmentFrequency==="weekly"?"أسبوعي":"كل أسبوعين"} - ${a.description}`);const r={id:F.length+1,customerId:n.id,type:a.type,amount:l,description:i,date:new Date().toISOString().split("T")[0],status:"completed",...a.type==="installment"&&{installmentInfo:{totalAmount:parseFloat(a.amount),downPayment:parseFloat(a.downPayment||0),remainingAmount:parseFloat(a.amount)-parseFloat(a.downPayment||0),installmentAmount:parseFloat(a.installmentAmount),totalInstallments:parseInt(a.totalInstallments),frequency:a.installmentFrequency,calculationMethod:a.calculationMethod,duration:parseInt(a.duration),startDate:a.startDate}},...a.type==="sale"&&{productInfo:{productId:parseInt(a.selectedProductId),productName:j.find(o=>o.id===parseInt(a.selectedProductId))?.name,quantity:parseInt(a.quantity||1),unitPrice:j.find(o=>o.id===parseInt(a.selectedProductId))?.price,saleType:a.saleType},...a.saleType==="installment"&&{installmentInfo:{totalAmount:parseFloat(a.totalAmount),downPayment:parseFloat(a.downPayment||0),remainingAmount:parseFloat(a.totalAmount)-parseFloat(a.downPayment||0),installmentAmount:parseFloat(a.installmentAmount),totalInstallments:parseInt(a.totalInstallments),frequency:a.installmentFrequency,calculationMethod:a.calculationMethod,duration:parseInt(a.duration),startDate:a.startDate}}}};V([...F,r]);let d=0;(a.type==="debt"||a.type==="sale"||a.type==="installment")&&(d=-l);const M=x.map(o=>o.id===n.id?{...o,balance:o.balance+d,totalInvoices:o.totalInvoices+1,lastTransaction:new Date().toISOString().split("T")[0],totalDebt:Math.max(0,o.balance+d<0?Math.abs(o.balance+d):o.totalDebt),type:o.balance+d>0?"creditor":o.balance+d<0?"debtor":"neutral"}:o);T(M),P(o=>({...o,balance:o.balance+d,totalInvoices:o.totalInvoices+1,lastTransaction:new Date().toISOString().split("T")[0],totalDebt:Math.max(0,o.balance+d<0?Math.abs(o.balance+d):o.totalDebt),type:o.balance+d>0?"creditor":o.balance+d<0?"debtor":"neutral"})),y({type:"debt",amount:0,totalAmount:0,description:"",dueDate:"",installmentCount:2,installmentFrequency:"monthly",installmentAmount:0,selectedProductId:"",productName:"",productPrice:0,quantity:1,saleType:"cash",downPayment:0,calculationMethod:"by_amount",duration:1,totalInstallments:1,startDate:""}),A(!1),g(!0),alert(m?"تم إضافة المعاملة بنجاح!":"Transaction added successfully!")};return e.jsxs("div",{className:`min-h-screen bg-gray-50 ${m?"rtl":"ltr"}`,children:[e.jsx(ne,{}),e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:t.subtitle})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsxs("div",{className:`${m?"mr-3":"ml-3"} flex-1 min-w-0`,children:[e.jsx("p",{className:"text-blue-600 text-xs font-medium truncate",children:t.totalCustomers}),e.jsx("p",{className:"text-blue-900 text-lg font-bold",children:x.length})]})]})}),e.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx("span",{className:"text-white text-sm",children:"↑"})}),e.jsxs("div",{className:`${m?"mr-3":"ml-3"} flex-1 min-w-0`,children:[e.jsx("p",{className:"text-green-600 text-xs font-medium truncate",children:t.creditors}),e.jsx("p",{className:"text-green-900 text-lg font-bold",children:x.filter(s=>s.balance>0).length})]})]})}),e.jsx("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-500 rounded-lg",children:e.jsx("span",{className:"text-white text-sm",children:"↓"})}),e.jsxs("div",{className:`${m?"mr-3":"ml-3"} flex-1 min-w-0`,children:[e.jsx("p",{className:"text-red-600 text-xs font-medium truncate",children:t.debtors}),e.jsx("p",{className:"text-red-900 text-lg font-bold",children:x.filter(s=>s.balance<0).length})]})]})}),e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gray-500 rounded-lg",children:e.jsx("span",{className:"text-white text-sm",children:"→"})}),e.jsxs("div",{className:`${m?"mr-3":"ml-3"} flex-1 min-w-0`,children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium truncate",children:t.neutral}),e.jsx("p",{className:"text-gray-900 text-lg font-bold",children:x.filter(s=>s.balance===0).length})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:t.search,value:S,onChange:s=>R(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("svg",{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),e.jsxs("select",{value:D,onChange:s=>U(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:t.filters.all}),e.jsx("option",{value:"creditor",children:t.filters.creditor}),e.jsx("option",{value:"debtor",children:t.filters.debtor})]}),e.jsxs("button",{onClick:()=>w(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t.addCustomer]})]})]})}),e.jsx("div",{className:"p-4",children:_.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:t.noCustomers}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t.addFirstCustomer}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>w(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:t.addCustomer})})]}):e.jsx("div",{className:"space-y-3",children:_.map(s=>e.jsx("div",{onClick:()=>K(s),className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${s.balance>0?"bg-green-500":s.balance<0?"bg-red-500":"bg-gray-500"}`,children:G(s.balance)}),e.jsxs("div",{className:`${m?"mr-3":"ml-3"} flex-1 min-w-0`,children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:s.phone})]})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[t.customerInfo.balance,":"]}),e.jsxs("span",{className:`font-semibold ${q(s.balance)} mr-1`,children:[N(s.balance)," ",t.currency]})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[t.customerInfo.totalInvoices,":"]}),e.jsx("span",{className:"font-semibold text-gray-900 mr-1",children:s.totalInvoices})]})]})]}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},s.id))})}),Q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t.form.title}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.customerInfo.name," *"]}),e.jsx("input",{type:"text",name:"name",value:h.name,onChange:k,placeholder:t.form.namePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.customerInfo.phone," *"]}),e.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:k,placeholder:t.form.phonePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.customerInfo.address}),e.jsx("input",{type:"text",name:"address",value:h.address,onChange:k,placeholder:t.form.addressPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.customerInfo.balance}),e.jsx("input",{type:"number",name:"balance",value:h.balance,onChange:k,placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.customerInfo.notes}),e.jsx("textarea",{name:"notes",value:h.notes,onChange:k,placeholder:t.form.notesPlaceholder,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:t.form.save}),e.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:t.form.cancel})]})]})]})})}),W&&n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n.name}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"المعلومات الأساسية"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 text-sm",children:[t.customerInfo.phone,":"]}),e.jsx("p",{className:"font-medium",children:n.phone})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 text-sm",children:[t.customerInfo.address,":"]}),e.jsx("p",{className:"font-medium",children:n.address})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 text-sm",children:[t.customerInfo.lastTransaction,":"]}),e.jsx("p",{className:"font-medium",children:n.lastTransaction})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"الملخص المالي"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 text-sm",children:[t.customerInfo.balance,":"]}),e.jsxs("p",{className:`font-bold text-lg ${q(n.balance)}`,children:[N(n.balance)," ",t.currency]})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 text-sm",children:[t.customerInfo.totalInvoices,":"]}),e.jsx("p",{className:"font-medium",children:n.totalInvoices})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 text-sm",children:[t.customerInfo.paidAmount,":"]}),e.jsxs("p",{className:"font-medium",children:[N(n.paidAmount)," ",t.currency]})]})]})]})]}),n.notes&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:t.customerInfo.notes}),e.jsx("p",{className:"text-gray-700 bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:n.notes})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx("button",{onClick:X,className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:t.actions.edit}),e.jsx("button",{onClick:Z,className:"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors text-sm",children:t.actions.addTransaction}),e.jsx("button",{onClick:ee,className:"bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors text-sm",children:t.actions.viewHistory}),e.jsx("button",{onClick:Y,className:"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors text-sm",children:t.actions.delete})]})]})})}),z&&n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"تعديل بيانات العميل"}),e.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:te,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.customerInfo.name}),e.jsx("input",{type:"text",name:"name",value:b.name,onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.customerInfo.phone}),e.jsx("input",{type:"text",name:"phone",value:b.phone,onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.customerInfo.address}),e.jsx("input",{type:"text",name:"address",value:b.address,onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.customerInfo.balance}),e.jsx("input",{type:"number",name:"balance",value:b.balance,onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.customerInfo.notes}),e.jsx("textarea",{name:"notes",value:b.notes,onChange:I,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:t.form.save}),e.jsx("button",{type:"button",onClick:()=>C(!1),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:t.form.cancel})]})]})]})})}),E&&n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t.transaction.title}),e.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("span",{className:"font-medium",children:"العميل:"})," ",e.jsx("span",{className:"font-semibold",children:n.name}),e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{className:"font-medium",children:"الرصيد الحالي:"}),e.jsxs("span",{className:`font-semibold ${q(n.balance)}`,children:[N(n.balance)," ",t.currency]})]})}),e.jsxs("form",{onSubmit:se,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.type}),e.jsxs("select",{name:"type",value:a.type,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"debt",children:t.transaction.debt}),e.jsx("option",{value:"installment",children:t.transaction.installment}),e.jsx("option",{value:"sale",children:t.transaction.sale})]})]}),a.type==="debt"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.amount}),e.jsx("input",{type:"number",name:"amount",value:a.amount,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.description}),e.jsx("input",{type:"text",name:"description",value:a.description,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"وصف الدين...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.dueDate}),e.jsx("input",{type:"date",name:"dueDate",value:a.dueDate,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.type==="installment"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.totalAmount}),e.jsx("input",{type:"number",name:"amount",value:a.amount,onChange:s=>u("amount",parseFloat(s.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.downPayment}),e.jsx("input",{type:"number",min:"0",max:a.amount||0,value:a.downPayment||0,onChange:s=>u("downPayment",parseFloat(s.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),e.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-700",children:[e.jsxs("span",{className:"font-semibold",children:[t.transaction.remainingAmount,":"]})," ",((a.amount||0)-(a.downPayment||0)).toLocaleString()," ",t.currency]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.calculationMethod}),e.jsxs("select",{value:a.calculationMethod||"by_amount",onChange:s=>u("calculationMethod",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"by_amount",children:t.transaction.byAmount}),e.jsx("option",{value:"by_duration",children:t.transaction.byDuration})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.installmentFrequency}),e.jsxs("select",{value:a.installmentFrequency||"monthly",onChange:s=>u("installmentFrequency",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"monthly",children:t.transaction.frequencies.monthly}),e.jsx("option",{value:"weekly",children:t.transaction.frequencies.weekly}),e.jsx("option",{value:"biweekly",children:t.transaction.frequencies.biweekly})]})]}),a.calculationMethod==="by_amount"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.installmentAmount}),e.jsx("input",{type:"number",min:"1",value:a.installmentAmount||0,onChange:s=>u("installmentAmount",parseFloat(s.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"مبلغ القسط"})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsxs("span",{className:"font-semibold",children:[t.transaction.totalInstallments,":"]})," ",a.totalInstallments||0]}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsxs("span",{className:"font-semibold",children:[t.transaction.duration,":"]})," ",a.duration||0," ",a.installmentFrequency==="monthly"?t.transaction.months:t.transaction.weeks]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t.transaction.duration," (",a.installmentFrequency==="monthly"?t.transaction.months:t.transaction.weeks,")"]}),e.jsx("input",{type:"number",min:"1",max:"60",value:a.duration||1,onChange:s=>u("duration",parseInt(s.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsxs("span",{className:"font-semibold",children:[t.transaction.totalInstallments,":"]})," ",a.totalInstallments||0]}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsxs("span",{className:"font-semibold",children:[t.transaction.installmentAmount,":"]})," ",a.installmentAmount||0," ",t.currency]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.startDate}),e.jsx("input",{type:"date",value:a.startDate||"",onChange:s=>y(l=>({...l,startDate:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.description}),e.jsx("input",{type:"text",name:"description",value:a.description,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"وصف القسط...",required:!0})]})]}),a.type==="sale"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.selectProduct}),e.jsxs("select",{name:"selectedProductId",value:a.selectedProductId||"",onChange:s=>{const l=s.target.value,i=j.find(r=>r.id===parseInt(l));y(r=>({...r,selectedProductId:l,productName:i?i.name:"",productPrice:i?i.price:0,totalAmount:i?i.price*(r.quantity||1):0}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:t.transaction.selectProduct}),j.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - $",s.price," (",t.transaction.availableQuantity,": ",s.stock,")"]},s.id))]})]}),a.selectedProductId&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.productQuantity}),e.jsx("input",{type:"number",name:"quantity",min:"1",max:j.find(s=>s.id===parseInt(a.selectedProductId))?.stock||1,value:a.quantity||1,onChange:s=>{const l=parseInt(s.target.value)||1,i=j.find(r=>r.id===parseInt(a.selectedProductId));y(r=>({...r,quantity:l,totalAmount:i?i.price*l:0}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.saleType}),e.jsxs("select",{name:"saleType",value:a.saleType||"cash",onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"cash",children:t.transaction.saleTypes.cash}),e.jsx("option",{value:"installment",children:t.transaction.saleTypes.installment})]})]}),a.saleType==="installment"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.downPayment}),e.jsx("input",{type:"number",min:"0",max:a.totalAmount||0,value:a.downPayment||0,onChange:s=>u("downPayment",parseFloat(s.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),e.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-700",children:[e.jsxs("span",{className:"font-semibold",children:[t.transaction.remainingAmount,":"]})," ",((a.totalAmount||0)-(a.downPayment||0)).toLocaleString()," ",t.currency]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.calculationMethod}),e.jsxs("select",{value:a.calculationMethod||"by_amount",onChange:s=>u("calculationMethod",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"by_amount",children:t.transaction.byAmount}),e.jsx("option",{value:"by_duration",children:t.transaction.byDuration})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.installmentFrequency}),e.jsxs("select",{value:a.installmentFrequency||"monthly",onChange:s=>u("installmentFrequency",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"monthly",children:t.transaction.frequencies.monthly}),e.jsx("option",{value:"weekly",children:t.transaction.frequencies.weekly}),e.jsx("option",{value:"biweekly",children:t.transaction.frequencies.biweekly})]})]}),a.calculationMethod==="by_amount"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.installmentAmount}),e.jsx("input",{type:"number",min:"1",value:a.installmentAmount||0,onChange:s=>u("installmentAmount",parseFloat(s.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"مبلغ القسط"})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsxs("span",{className:"font-semibold",children:[t.transaction.totalInstallments,":"]})," ",a.totalInstallments||0]}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsxs("span",{className:"font-semibold",children:[t.transaction.duration,":"]})," ",a.duration||0," ",a.installmentFrequency==="monthly"?t.transaction.months:t.transaction.weeks]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t.transaction.duration," (",a.installmentFrequency==="monthly"?t.transaction.months:t.transaction.weeks,")"]}),e.jsx("input",{type:"number",min:"1",max:"60",value:a.duration||1,onChange:s=>u("duration",parseInt(s.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsxs("span",{className:"font-semibold",children:[t.transaction.totalInstallments,":"]})," ",a.totalInstallments||0]}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsxs("span",{className:"font-semibold",children:[t.transaction.installmentAmount,":"]})," ",a.installmentAmount||0," ",t.currency]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.transaction.startDate}),e.jsx("input",{type:"date",value:a.startDate||"",onChange:s=>y(l=>({...l,startDate:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsxs("span",{className:"font-semibold",children:[t.transaction.totalAmount,":"]})," ",a.totalAmount||0," ",t.currency]})})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:t.form.save}),e.jsx("button",{type:"button",onClick:()=>A(!1),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:t.form.cancel})]})]})]})})}),O&&n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[t.history.title," - ",n.name]}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 text-sm",children:[t.customerInfo.balance,":"]}),e.jsxs("p",{className:`font-bold text-lg ${q(n.balance)}`,children:[N(n.balance)," ",t.currency]})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 text-sm",children:[t.customerInfo.totalInvoices,":"]}),e.jsx("p",{className:"font-medium",children:n.totalInvoices})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 text-sm",children:[t.customerInfo.lastTransaction,":"]}),e.jsx("p",{className:"font-medium",children:n.lastTransaction})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t.history.date}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t.history.type}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t.history.description}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t.history.amount}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t.history.status})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.filter(s=>s.customerId===n.id).map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:s.date}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.type==="sale"?"bg-green-100 text-green-800":s.type==="payment"?"bg-blue-100 text-blue-800":s.type==="installment"?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800"}`,children:t.history.types[s.type]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:s.description}),e.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:[N(s.amount)," ",t.currency]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.history.statuses[s.status]})})]},s.id))})]})}),F.filter(s=>s.customerId===n.id).length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"لا توجد معاملات لهذا العميل"})})]})})})]})};export{ce as default};
