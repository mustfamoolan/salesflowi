import{r as n,j as e}from"./app-CuBlbhlW.js";import Ne from"./BackButton-C7rP9mAK.js";/* empty css            */const Pe=()=>{n.useEffect(()=>{setTimeout(()=>{const s=document.getElementById("loading-screen");s&&(s.style.display="none")},1e3)},[]);const[h,we]=n.useState(!0),[Y,N]=n.useState(!1),[J,f]=n.useState(!1),[a,w]=n.useState(null),[q,K]=n.useState(""),[Q,Z]=n.useState("all"),[ee,I]=n.useState(!1),[$,F]=n.useState(""),[g,O]=n.useState("all"),[te,L]=n.useState(!1),[se,M]=n.useState(!1),[re,A]=n.useState(!1),[le,D]=n.useState(!1),[k,W]=n.useState(0),[r,j]=n.useState({quantity:1,saleType:"cash",customerName:"",customerPhone:"",downPayment:0,installmentMonths:1,calculationMethod:"by_amount",frequency:"monthly",installmentAmount:0,totalInstallments:1,duration:1,startDate:"",invoiceNumber:"",notes:""}),[p,z]=n.useState({}),[ae]=n.useState([{id:1,name:"أحمد محمد العلي",phone:"07701234567"},{id:2,name:"فاطمة حسن الكريم",phone:"07709876543"},{id:3,name:"محمد علي الربيعي",phone:"07701112233"},{id:4,name:"سارة أحمد الكاظم",phone:"07705555666"},{id:5,name:"علي حسين الجابر",phone:"07708888999"}]),[_,T]=n.useState(""),[B,S]=n.useState(!1),[C,U]=n.useState([{id:1,name:"إلكترونيات",productsCount:2,color:"#3B82F6"},{id:2,name:"أثاث",productsCount:1,color:"#10B981"},{id:3,name:"ملابس",productsCount:0,color:"#F59E0B"},{id:4,name:"كتب",productsCount:0,color:"#8B5CF6"},{id:5,name:"رياضة",productsCount:0,color:"#EF4444"}]),[c,P]=n.useState([{id:1,name:"لابتوب ديل XPS 13",category:"إلكترونيات",price:12e5,cost:1e6,quantity:5,minQuantity:2,barcode:"123456789012",description:"لابتوب عالي الأداء للأعمال",supplier:"شركة التقنية المتقدمة",lastUpdated:"2025-08-05",totalSold:15,image:"/images/laptop.jpg"},{id:2,name:"هاتف آيفون 15 برو",category:"إلكترونيات",price:18e5,cost:15e5,quantity:0,minQuantity:3,barcode:"987654321098",description:"أحدث هاتف من آبل",supplier:"موزع آبل الرسمي",lastUpdated:"2025-08-04",totalSold:8,image:"/images/iphone.jpg"},{id:3,name:"طاولة مكتب خشبية",category:"أثاث",price:35e4,cost:25e4,quantity:1,minQuantity:2,barcode:"456789012345",description:"طاولة مكتب من الخشب الطبيعي",supplier:"معرض الأثاث الحديث",lastUpdated:"2025-08-03",totalSold:12,image:"/images/desk.jpg"}]),[u,G]=n.useState({name:"",category:"",price:0,cost:0,quantity:0,minQuantity:0,barcode:"",description:"",supplier:""}),H={ar:{title:"إدارة المنتجات",subtitle:"قائمة المنتجات وإدارة المخزون",search:"البحث عن منتج...",addProduct:"إضافة منتج جديد",totalProducts:"إجمالي المنتجات",inStock:"متوفر",lowStock:"مخزون منخفض",outOfStock:"نفذ المخزون",addCategory:"إضافة قسم",filters:{all:"الكل",instock:"متوفر",lowstock:"مخزون منخفض",outofstock:"نفذ المخزون"},productInfo:{name:"اسم المنتج",category:"الفئة",price:"سعر البيع",cost:"سعر التكلفة",quantity:"الكمية",minQuantity:"الحد الأدنى",barcode:"الباركود",description:"الوصف",supplier:"المورد",totalSold:"إجمالي المبيعات",profit:"الربح"},actions:{view:"عرض",edit:"تعديل",delete:"حذف",addStock:"إضافة مخزون",sellProduct:"بيع المنتج"},form:{title:"بيانات المنتج",namePlaceholder:"اسم المنتج",selectCategory:"اختر القسم",pricePlaceholder:"سعر البيع",costPlaceholder:"سعر التكلفة",quantityPlaceholder:"الكمية الحالية",minQuantityPlaceholder:"الحد الأدنى للمخزون",barcodePlaceholder:"رقم الباركود",descriptionPlaceholder:"وصف المنتج",supplierPlaceholder:"اسم المورد",save:"حفظ",cancel:"إلغاء"},categoryForm:{title:"إضافة قسم جديد",namePlaceholder:"اسم القسم",save:"حفظ",cancel:"إلغاء"},addStockForm:{title:"إضافة مخزون",currentStock:"المخزون الحالي",addQuantity:"الكمية المُضافة",newTotal:"إجمالي جديد",quantityPlaceholder:"أدخل الكمية",add:"إضافة",cancel:"إلغاء"},sellForm:{title:"بيع المنتج",quantity:"الكمية",saleType:"نوع البيع",cash:"نقدي",debt:"دين",installment:"تقسيط",customer:"اختر العميل",customerSearch:"ابحث عن عميل...",downPayment:"الدفعة المقدمة",calculationMethod:"طريقة الحساب",byAmount:"حسب مبلغ القسط",byDuration:"حسب المدة",frequency:"تردد الدفع",installmentAmount:"مبلغ القسط",totalInstallments:"عدد الأقساط",duration:"المدة",startDate:"تاريخ البداية",invoiceNumber:"رقم الفاتورة",autoGenerate:"توليد تلقائي",notes:"ملاحظات",total:"الإجمالي",sell:"بيع",cancel:"إلغاء"},deleteConfirm:{title:"تأكيد الحذف",message:"هل أنت متأكد من حذف هذا المنتج؟",warning:"هذا الإجراء لا يمكن التراجع عنه",delete:"حذف",cancel:"إلغاء"},editForm:{title:"تعديل المنتج",save:"حفظ التغييرات",cancel:"إلغاء"},frequency:{monthly:"شهري",biweekly:"كل أسبوعين",weekly:"أسبوعي"},currency:"د.ع",noProducts:"لا يوجد منتجات",addFirstProduct:"أضف أول منتج لك",stockStatus:{inStock:"متوفر",lowStock:"مخزون منخفض",outOfStock:"نفذ المخزون"}},en:{title:"Product Management",subtitle:"Product list and inventory management",search:"Search for product...",addProduct:"Add New Product",totalProducts:"Total Products",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",addCategory:"Add Category",filters:{all:"All",instock:"In Stock",lowstock:"Low Stock",outofstock:"Out of Stock"},productInfo:{name:"Product Name",category:"Category",price:"Selling Price",cost:"Cost Price",quantity:"Quantity",minQuantity:"Min Quantity",barcode:"Barcode",description:"Description",supplier:"Supplier",totalSold:"Total Sold",profit:"Profit"},actions:{view:"View",edit:"Edit",delete:"Delete",addStock:"Add Stock",sellProduct:"Sell Product"},form:{title:"Product Data",namePlaceholder:"Product Name",selectCategory:"Select Category",pricePlaceholder:"Selling Price",costPlaceholder:"Cost Price",quantityPlaceholder:"Current Quantity",minQuantityPlaceholder:"Minimum Stock Level",barcodePlaceholder:"Barcode Number",descriptionPlaceholder:"Product Description",supplierPlaceholder:"Supplier Name",save:"Save",cancel:"Cancel"},categoryForm:{title:"Add New Category",namePlaceholder:"Category Name",save:"Save",cancel:"Cancel"},addStockForm:{title:"Add Stock",currentStock:"Current Stock",addQuantity:"Add Quantity",newTotal:"New Total",quantityPlaceholder:"Enter quantity",add:"Add",cancel:"Cancel"},sellForm:{title:"Sell Product",quantity:"Quantity",saleType:"Sale Type",cash:"Cash",debt:"Debt",installment:"Installment",customer:"Select Customer",customerSearch:"Search for customer...",downPayment:"Down Payment",calculationMethod:"Calculation Method",byAmount:"By Installment Amount",byDuration:"By Duration",frequency:"Payment Frequency",installmentAmount:"Installment Amount",totalInstallments:"Total Installments",duration:"Duration",startDate:"Start Date",invoiceNumber:"Invoice Number",autoGenerate:"Auto Generate",notes:"Notes",total:"Total",sell:"Sell",cancel:"Cancel"},deleteConfirm:{title:"Confirm Delete",message:"Are you sure you want to delete this product?",warning:"This action cannot be undone",delete:"Delete",cancel:"Cancel"},editForm:{title:"Edit Product",save:"Save Changes",cancel:"Cancel"},frequency:{monthly:"Monthly",biweekly:"Biweekly",weekly:"Weekly"},currency:"IQD",noProducts:"No products",addFirstProduct:"Add your first product",stockStatus:{inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock"}}},t=h?H.ar:H.en,d=s=>new Intl.NumberFormat(h?"ar-IQ":"en-US").format(s),y=s=>s.quantity===0?"outOfStock":s.quantity<=s.minQuantity?"lowStock":"inStock",E=s=>{const l=y(s);return l==="outOfStock"?"text-red-600":l==="lowStock"?"text-yellow-600":"text-green-600"},V=s=>{const l=y(s);return l==="outOfStock"?"❌":l==="lowStock"?"⚠️":"✅"},R=c.filter(s=>{const l=s.name.toLowerCase().includes(q.toLowerCase())||s.category.toLowerCase().includes(q.toLowerCase())||s.barcode.includes(q),o=g==="all"||s.category===g;if(Q==="all")return l&&o;const i=y(s);return l&&o&&Q===i}),x=s=>{const{name:l,value:o}=s.target;G(i=>({...i,[l]:l==="price"||l==="cost"||l==="quantity"||l==="minQuantity"?parseFloat(o)||0:o}))},ne=s=>{s.preventDefault();const l={...u,id:c.length+1,lastUpdated:new Date().toISOString().split("T")[0],totalSold:0,image:"/images/default-product.jpg"};P([...c,l]),G({name:"",category:"",price:0,cost:0,quantity:0,minQuantity:0,barcode:"",description:"",supplier:""}),N(!1)},oe=s=>{w(s),f(!0)},ce=s=>(s.price-s.cost)*s.totalSold,ie=s=>{if(s.preventDefault(),$.trim()){const l={id:Date.now(),name:$.trim(),productsCount:0,color:`#${Math.floor(Math.random()*16777215).toString(16)}`};U([...C,l]),F(""),I(!1)}},de=()=>{const s=C.map(l=>({...l,productsCount:c.filter(o=>o.category===l.name).length}));U(s)};n.useEffect(()=>{de()},[c]),n.useEffect(()=>{const s=l=>{B&&!l.target.closest(".customer-dropdown-container")&&S(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[B]);const me=()=>{z({...a}),L(!0),f(!1)},ue=()=>{W(0),M(!0),f(!1)},xe=()=>{j({quantity:1,saleType:"cash",customerName:"",customerPhone:"",downPayment:0,installmentMonths:1,calculationMethod:"by_amount",frequency:"monthly",installmentAmount:0,totalInstallments:1,duration:1,startDate:new Date().toISOString().split("T")[0],invoiceNumber:"",notes:""}),T(""),S(!1),A(!0),f(!1)},he=()=>{D(!0),f(!1)},ge=()=>{P(c.filter(s=>s.id!==a.id)),D(!1),w(null)},be=s=>{s.preventDefault(),P(c.map(l=>l.id===a.id?p:l)),L(!1),w(null)},pe=s=>{s.preventDefault(),k>0&&(P(c.map(l=>l.id===a.id?{...l,quantity:l.quantity+parseInt(k)}:l)),M(!1),w(null))},ye=s=>{if(s.preventDefault(),(r.saleType==="debt"||r.saleType==="installment")&&!r.customerName){alert("يرجى اختيار العميل أولاً");return}if(r.saleType==="installment"){if(r.calculationMethod==="by_amount"&&r.installmentAmount<=0){alert("يرجى إدخال مبلغ القسط");return}if(r.calculationMethod==="by_duration"&&r.duration<=0){alert("يرجى إدخال مدة التقسيط");return}if(!r.startDate){alert("يرجى اختيار تاريخ البداية");return}}if(r.quantity>0&&r.quantity<=a.quantity){P(c.map(o=>o.id===a.id?{...o,quantity:o.quantity-parseInt(r.quantity),totalSold:o.totalSold+parseInt(r.quantity)}:o));let l=`تم بيع ${r.quantity} من ${a.name} بنجاح!`;r.saleType==="debt"?(l+=`
العميل: ${r.customerName}`,l+=`
نوع البيع: دين`,l+=`
المبلغ: ${d(b())} ${t.currency}`):r.saleType==="installment"&&(l+=`
العميل: ${r.customerName}`,l+=`
نوع البيع: تقسيط`,l+=`
إجمالي المبلغ: ${d(b())} ${t.currency}`,l+=`
الدفعة المقدمة: ${d(r.downPayment)} ${t.currency}`,l+=`
مبلغ القسط: ${d(r.installmentAmount)} ${t.currency}`,l+=`
عدد الأقساط: ${r.totalInstallments}`,l+=`
تردد الدفع: ${t.frequency[r.frequency]}`,console.log("بيانات التقسيط:",{customerName:r.customerName,customerPhone:r.customerPhone,productName:a.name,quantity:r.quantity,totalAmount:b(),downPayment:r.downPayment,installmentAmount:r.installmentAmount,totalInstallments:r.totalInstallments,frequency:r.frequency,startDate:r.startDate,invoiceNumber:r.invoiceNumber,notes:r.notes})),alert(l),A(!1),w(null),T("")}},v=s=>{const{name:l,value:o}=s.target;z(i=>({...i,[l]:l==="price"||l==="cost"||l==="quantity"||l==="minQuantity"?parseFloat(o)||0:o}))},m=s=>{const{name:l,value:o}=s.target;j(i=>({...i,[l]:l==="quantity"||l==="downPayment"||l==="installmentMonths"?parseInt(o)||0:o}))},b=()=>a?a.price*r.quantity:0,X=ae.filter(s=>s.name.toLowerCase().includes(_.toLowerCase())),fe=s=>{j(l=>({...l,customerName:s.name,customerPhone:s.phone})),T(s.name),S(!1)},je=()=>{const s=new Date,l=s.getFullYear(),o=String(s.getMonth()+1).padStart(2,"0"),i=String(s.getDate()).padStart(2,"0"),ve=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`INV-${l}${o}${i}-${ve}`};return n.useEffect(()=>{if(r.saleType==="installment"&&a){const l=a.price*r.quantity-r.downPayment;if(r.calculationMethod==="by_amount"&&r.installmentAmount>0){const o=Math.ceil(l/r.installmentAmount);j(i=>({...i,totalInstallments:o}))}else if(r.calculationMethod==="by_duration"&&r.duration>0){const o=l/r.duration;j(i=>({...i,installmentAmount:o,totalInstallments:r.duration}))}}},[r.saleType,r.downPayment,r.installmentAmount,r.duration,r.calculationMethod,a?.price,r.quantity]),e.jsxs("div",{className:`min-h-screen bg-gray-50 ${h?"rtl":"ltr"}`,children:[e.jsx(Ne,{}),e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:t.subtitle})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),e.jsxs("div",{className:`${h?"mr-3":"ml-3"} flex-1 min-w-0`,children:[e.jsx("p",{className:"text-blue-600 text-xs font-medium truncate",children:t.totalProducts}),e.jsx("p",{className:"text-blue-900 text-lg font-bold",children:c.length})]})]})}),e.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:`${h?"mr-3":"ml-3"} flex-1 min-w-0`,children:[e.jsx("p",{className:"text-green-600 text-xs font-medium truncate",children:t.inStock}),e.jsx("p",{className:"text-green-900 text-lg font-bold",children:c.filter(s=>y(s)==="inStock").length})]})]})}),e.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-500 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.664-.833-2.464 0L5.35 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:`${h?"mr-3":"ml-3"} flex-1 min-w-0`,children:[e.jsx("p",{className:"text-yellow-600 text-xs font-medium truncate",children:t.lowStock}),e.jsx("p",{className:"text-yellow-900 text-lg font-bold",children:c.filter(s=>y(s)==="lowStock").length})]})]})}),e.jsx("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-500 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:`${h?"mr-3":"ml-3"} flex-1 min-w-0`,children:[e.jsx("p",{className:"text-red-600 text-xs font-medium truncate",children:t.outOfStock}),e.jsx("p",{className:"text-red-900 text-lg font-bold",children:c.filter(s=>y(s)==="outOfStock").length})]})]})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto pb-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[e.jsx("button",{onClick:()=>O("all"),className:`flex-shrink-0 px-4 py-2 rounded-full border transition-colors ${g==="all"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:t.filters.all}),C.map(s=>e.jsxs("button",{onClick:()=>O(s.name),className:`flex-shrink-0 px-4 py-2 rounded-full border transition-colors flex items-center gap-2 ${g===s.name?"text-white border-transparent":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,style:{backgroundColor:g===s.name?s.color:"white",borderColor:g===s.name?s.color:"#d1d5db"},children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g===s.name?"white":s.color}}),s.name,e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${g===s.name?"bg-white bg-opacity-20 text-white":"bg-gray-100 text-gray-600"}`,children:s.productsCount})]},s.id)),e.jsxs("button",{onClick:()=>I(!0),className:"flex-shrink-0 px-4 py-2 rounded-full border-2 border-dashed border-gray-300 text-gray-500 hover:border-green-400 hover:text-green-600 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t.addCategory]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:t.search,value:q,onChange:s=>K(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("svg",{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),e.jsxs("select",{value:Q,onChange:s=>Z(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:t.filters.all}),e.jsx("option",{value:"inStock",children:t.filters.instock}),e.jsx("option",{value:"lowStock",children:t.filters.lowstock}),e.jsx("option",{value:"outOfStock",children:t.filters.outofstock})]}),e.jsxs("button",{onClick:()=>N(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t.addProduct]})]})]})}),e.jsx("div",{className:"p-4",children:R.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:t.noProducts}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t.addFirstProduct}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>N(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center mx-auto",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t.addProduct]})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(s=>e.jsx("div",{onClick:()=>oe(s),className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md hover:border-blue-300 transition-all duration-200 cursor-pointer p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:s.name}),e.jsx("span",{className:"inline-block px-3 py-1 bg-blue-50 text-blue-700 text-xs rounded-full font-medium mb-3",children:s.category}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:`text-sm ${E(s)}`,children:V(s)}),e.jsxs("span",{className:`text-sm font-medium ${E(s)}`,children:[s.quantity," ",t.stockStatus[y(s)]]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[h?"الباركود:":"Barcode:"," ",s.barcode]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-900 mb-2",children:d(s.price)}),e.jsx("div",{className:"text-xs text-gray-500 mb-3",children:t.currency}),e.jsx("button",{className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors text-xs font-medium",children:t.actions.view})]})]})},s.id))})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t.form.title}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.productInfo.name," *"]}),e.jsx("input",{type:"text",name:"name",value:u.name,onChange:x,placeholder:t.form.namePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.productInfo.category," *"]}),e.jsxs("select",{name:"category",value:u.category,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:t.form.selectCategory}),C.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.productInfo.price," *"]}),e.jsx("input",{type:"number",name:"price",value:u.price,onChange:x,placeholder:t.form.pricePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.productInfo.cost}),e.jsx("input",{type:"number",name:"cost",value:u.cost,onChange:x,placeholder:t.form.costPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.productInfo.quantity," *"]}),e.jsx("input",{type:"number",name:"quantity",value:u.quantity,onChange:x,placeholder:t.form.quantityPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.productInfo.minQuantity}),e.jsx("input",{type:"number",name:"minQuantity",value:u.minQuantity,onChange:x,placeholder:t.form.minQuantityPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.productInfo.barcode}),e.jsx("input",{type:"text",name:"barcode",value:u.barcode,onChange:x,placeholder:t.form.barcodePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.productInfo.supplier}),e.jsx("input",{type:"text",name:"supplier",value:u.supplier,onChange:x,placeholder:t.form.supplierPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.productInfo.description}),e.jsx("textarea",{name:"description",value:u.description,onChange:x,placeholder:t.form.descriptionPlaceholder,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:t.form.save}),e.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:t.form.cancel})]})]})]})})}),J&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a.name}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:t.productInfo.category}),e.jsx("p",{className:"font-semibold",children:a.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:t.productInfo.price}),e.jsxs("p",{className:"font-semibold",children:[d(a.price)," ",t.currency]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:t.productInfo.cost}),e.jsxs("p",{className:"font-semibold",children:[d(a.cost)," ",t.currency]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:t.productInfo.quantity}),e.jsxs("p",{className:`font-semibold ${E(a)}`,children:[a.quantity," ",V(a)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:t.productInfo.minQuantity}),e.jsx("p",{className:"font-semibold",children:a.minQuantity})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:t.productInfo.barcode}),e.jsx("p",{className:"font-semibold font-mono",children:a.barcode})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:t.productInfo.totalSold}),e.jsx("p",{className:"font-semibold",children:a.totalSold})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:t.productInfo.profit}),e.jsxs("p",{className:"font-semibold text-green-600",children:[d(ce(a))," ",t.currency]})]})]}),a.description&&e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t.productInfo.description}),e.jsx("p",{className:"text-gray-700",children:a.description})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:me,className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:t.actions.edit}),e.jsx("button",{onClick:ue,className:"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors text-sm",children:t.actions.addStock}),e.jsx("button",{onClick:xe,className:"bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors text-sm",children:t.actions.sellProduct}),e.jsx("button",{onClick:he,className:"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors text-sm",children:t.actions.delete})]})]})})}),ee&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t.categoryForm.title}),e.jsx("button",{onClick:()=>{I(!1),F("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم القسم *"}),e.jsx("input",{type:"text",value:$,onChange:s=>F(s.target.value),placeholder:t.categoryForm.namePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:t.categoryForm.save}),e.jsx("button",{type:"button",onClick:()=>{I(!1),F("")},className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:t.categoryForm.cancel})]})]})]})})}),te&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t.editForm.title}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:be,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.productInfo.name," *"]}),e.jsx("input",{type:"text",name:"name",value:p.name||"",onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.productInfo.category," *"]}),e.jsx("select",{name:"category",value:p.category||"",onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:C.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.productInfo.price," *"]}),e.jsx("input",{type:"number",name:"price",value:p.price||0,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.productInfo.cost}),e.jsx("input",{type:"number",name:"cost",value:p.cost||0,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.productInfo.quantity," *"]}),e.jsx("input",{type:"number",name:"quantity",value:p.quantity||0,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.productInfo.minQuantity}),e.jsx("input",{type:"number",name:"minQuantity",value:p.minQuantity||0,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:t.editForm.save}),e.jsx("button",{type:"button",onClick:()=>L(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:t.editForm.cancel})]})]})]})})}),se&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t.addStockForm.title}),e.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[t.addStockForm.currentStock,":"]}),e.jsx("span",{className:"font-bold",children:a.quantity})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[t.addStockForm.addQuantity,":"]}),e.jsx("span",{className:"font-bold",children:k})]}),e.jsx("hr",{className:"my-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[t.addStockForm.newTotal,":"]}),e.jsx("span",{className:"font-bold text-green-600",children:a.quantity+k})]})]}),e.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.addStockForm.addQuantity," *"]}),e.jsx("input",{type:"number",value:k,onChange:s=>W(parseInt(s.target.value)||0),placeholder:t.addStockForm.quantityPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:t.addStockForm.add}),e.jsx("button",{type:"button",onClick:()=>M(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:t.addStockForm.cancel})]})]})]})})}),re&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[t.sellForm.title," - ",a.name]}),e.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.sellForm.quantity," *"]}),e.jsx("input",{type:"number",name:"quantity",value:r.quantity,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",max:a.quantity,required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["متوفر: ",a.quantity]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.sellForm.saleType," *"]}),e.jsxs("select",{name:"saleType",value:r.saleType,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"cash",children:t.sellForm.cash}),e.jsx("option",{value:"debt",children:t.sellForm.debt}),e.jsx("option",{value:"installment",children:t.sellForm.installment})]})]})]}),(r.saleType==="debt"||r.saleType==="installment")&&e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.sellForm.customer," *"]}),e.jsxs("div",{className:"relative customer-dropdown-container",children:[e.jsx("input",{type:"text",value:_,onChange:s=>{T(s.target.value),S(!0)},onFocus:()=>S(!0),placeholder:t.sellForm.customerSearch,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),B&&X.length>0&&e.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg mt-1 shadow-lg max-h-40 overflow-y-auto",children:X.map(s=>e.jsxs("div",{onClick:()=>fe(s),className:"px-3 py-2 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.phone})]},s.id))})]})]}),r.customerName&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-3 bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"اسم العميل"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.customerName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"رقم الهاتف"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.customerPhone})]})]})]}),r.saleType==="installment"&&e.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المبلغ الإجمالي"}),e.jsx("input",{type:"number",value:b(),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.sellForm.downPayment}),e.jsx("input",{type:"number",name:"downPayment",value:r.downPayment,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:b()})]})]}),r.downPayment>=0&&e.jsx("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:e.jsxs("span",{className:"text-blue-700 text-sm font-medium",children:["المبلغ المتبقي للتقسيط: ",d(b()-r.downPayment)," ",t.currency]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.sellForm.calculationMethod}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"calculationMethod",value:"by_amount",checked:r.calculationMethod==="by_amount",onChange:m,className:"mr-2 text-blue-600"}),e.jsx("span",{className:"text-gray-900",children:t.sellForm.byAmount})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"calculationMethod",value:"by_duration",checked:r.calculationMethod==="by_duration",onChange:m,className:"mr-2 text-blue-600"}),e.jsx("span",{className:"text-gray-900",children:t.sellForm.byDuration})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.sellForm.frequency}),e.jsxs("select",{name:"frequency",value:r.frequency,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"monthly",children:t.frequency.monthly}),e.jsx("option",{value:"biweekly",children:t.frequency.biweekly}),e.jsx("option",{value:"weekly",children:t.frequency.weekly})]})]}),r.calculationMethod==="by_amount"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.sellForm.installmentAmount," *"]}),e.jsx("input",{type:"number",name:"installmentAmount",value:r.installmentAmount,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.sellForm.totalInstallments}),e.jsx("input",{type:"number",value:r.totalInstallments,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.sellForm.duration," *"]}),e.jsx("input",{type:"number",name:"duration",value:r.duration,onChange:m,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),e.jsx("small",{className:"text-gray-500",children:r.frequency==="monthly"?"أشهر":"أسابيع"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.sellForm.installmentAmount}),e.jsx("input",{type:"number",value:r.installmentAmount,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.sellForm.startDate}),e.jsx("input",{type:"date",name:"startDate",value:r.startDate,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.sellForm.invoiceNumber}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"invoiceNumber",value:r.invoiceNumber,onChange:m,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{type:"button",onClick:()=>j(s=>({...s,invoiceNumber:je()})),className:"px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:t.sellForm.autoGenerate})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.sellForm.notes}),e.jsx("textarea",{name:"notes",value:r.notes,onChange:m,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[e.jsxs("span",{children:[t.sellForm.total,":"]}),e.jsxs("span",{children:[d(b())," ",t.currency]})]}),r.saleType==="installment"&&r.downPayment>0&&e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600 mt-2",children:[e.jsx("span",{children:"المبلغ المتبقي:"}),e.jsxs("span",{children:[d(b()-r.downPayment)," ",t.currency]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:t.sellForm.sell}),e.jsx("button",{type:"button",onClick:()=>A(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:t.sellForm.cancel})]})]})]})})}),le&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-red-600",children:t.deleteConfirm.title}),e.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-700 mb-2",children:t.deleteConfirm.message}),e.jsx("p",{className:"text-sm text-red-600 font-medium",children:t.deleteConfirm.warning}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600",children:a.category})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:ge,className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:t.deleteConfirm.delete}),e.jsx("button",{onClick:()=>D(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:t.deleteConfirm.cancel})]})]})})})]})};export{Pe as default};
